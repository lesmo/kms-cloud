function doKMS_populateGraph(){$(function(){doKMS_setupGraphs(),$.getJSON(getKMS_ajaxUri("OverviewHourlyData.json")).fail(function(){console.log("[!] - Error de descarga de datos (OverviewHourlyData.json)")}).done(function(a){$("#chartDiario").highcharts("StockChart",{chart:{type:"spline",zoomType:"x"},credits:{enabled:!1},navigator:{handles:{backgroundColor:"#FFFFFF",borderColor:"#00C6DD"},maskFill:"rgba(178, 237, 243, 0.3)",series:{type:"spline",lineColor:"#00C6DD"}},rangeSelector:{buttons:[{type:"day",count:1,text:"hora"},{type:"day",count:7,text:"día"},{type:"month",count:6,text:"mes"}],buttonTheme:{fill:"none",stroke:"none","stroke-width":0,style:{color:"#00C6DD",fontWeight:"bold"},states:{hover:{},select:{fill:"#00C6DD",style:{color:"#FFFFFF"}}}},selected:0},tooltip:{valueDecimals:2,valueSuffix:" "+$("body").data("distance-unit")},xAxis:{minRange:864e5},yAxis:{labels:{format:"{value} "+$("body").data("distance-unit")},min:0},series:[{data:a.allData,dataGrouping:{approximation:"sum",groupPixelWidth:10,units:[["day",[1]],["month",[1]]]},color:"#00C6DD",lineWidth:3,marker:{radius:5,lineWidth:2,lineColor:"#FFFFFF"},name:"Distancia recorrida"}]},function(){setTimeout(function(){$("#chartDiario .highcharts-range-selector").datepicker({minDate:new Date(a.allData[0][0]),maxDate:new Date(a.allData.last()[0])})},0)}),a.allData.count()<3&&$("#chartDiario").highcharts().showLoading("¡No hay datos!"),doKMS_redimSidebar()}),$.getJSON(getKMS_ajaxUri("OverviewMonthlyData.json")).fail(function(){console.log("[!] - Error de descarga de datos (OverviewMonthlyData.json)")}).done(function(a){var b=[],c=[];$.each(a.allData,function(a,d){b.push(d.month),c.push(Math.floor(d.distance))}),(new Chart(document.getElementById("chartMensual").getContext("2d"))).Bar({labels:b,datasets:[{fillColor:"rgba(0,197,219,1)",strokeColor:"rgba(220,220,220,1)",data:c}]},{scaleLabel:"<%=value%> "+$("body").data("distance-unit")}),doKMS_redimSidebar()}),$.getJSON(getKMS_ajaxUri("OverviewYearlyData.json")).fail(function(){console.log("[!] - Error de descarga de datos (OverviewYearlyData.json)")}).done(function(a){var b=0,c={running:$("#datos .running").css("border-bottom-color"),walking:$("#datos .walking").css("border-bottom-color"),sleep:$("#datos .sleep").css("border-bottom-color")},d={running:0,walking:0,sleep:0},e=[];$.each(a.allData,function(a,c){b+=c.steps});if(b<1)return $("#datos .running").text("0%"),$("#datos .walking").text("0%"),$("#datos .sleep").text("100%"),(new Chart(document.getElementById("chartActividad").getContext("2d"))).Doughnut([{value:100,color:c.sleep}]);var f=0;$.each(a.allData,function(a,c){d[c.activity]=Math.floor(c.steps/b*100),f+=d[c.activity]}),f<100&&(d.sleep+=100-f),$.each(d,function(a,b){e.push({value:b,color:c[a]}),$("#datos ."+a).text(b.toFixed()+"%")}),(new Chart(document.getElementById("chartActividad").getContext("2d"))).Doughnut(e),doKMS_redimSidebar()})})}