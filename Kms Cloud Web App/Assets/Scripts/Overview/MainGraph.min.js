$(function(){var a=$("html").attr("lang"),b=$.datepicker.regional[""];Object.has($.datepicker.regional,a)&&(b=$.datepicker.regional[a]),Highcharts.setOptions({global:{useUTC:!1},lang:{months:b.monthNames,shortMonths:b.monthNamesShort,weekdays:b.dayNames,resetZoom:"Restablecer Zoom",resetZoomTitle:"Restablecer Zoom a 1:1",rangeSelectorZoom:"Zoom",rangeSelectorFrom:"Desde",rangeSelectorTo:"Hasta",loading:"Cargando datos ..."}}),$.datepicker.setDefaults({dateFormat:"DD, M d, yy"}),$("#graficaPrincipalTabs").tabs({heightStyle:"auto",activate:function(a,b){b.newPanel.children(".graph").highcharts().reflow()}});var c=null,d=null;$("#graficaDiaria2 .datepicker input").datepicker({minDate:new Date(parseInt($("body").data("user-signup"))),maxDate:new Date}).datepicker("setDate",new Date).select(function(){if(c!=null&&c==$(this).datepicker("getDate"))return;c=$(this).datepicker("getDate"),d!=null&&d.abort(),$("#graficaDiaria2 .graph").highcharts().showLoading(),d=$.getJSON(getKMS_ajaxUri("OverviewDailyData.json"),{date:$(this).datepicker("getDate").getTime(),_:$("body").data("ajax-cache")}).fail(function(){$("#graficaDiaria2 .graph").highcharts().showLoading("Ocurrió un problema durante la descarga, intenta de nuevo")}).done(function(a){$("#graficaDiaria2 .graph").highcharts().series[0].setData(a.allData),$("#graficaDiaria2 .graph").highcharts().hideLoading()})});var e=null,f=null;$("#graficaMensual2 .datepicker input").MonthPicker({StartYear:(new Date).getFullYear()}).val((new Date).format("{MM}/{yyyy}")).change(function(){if(e!=null&&e==$(this).val())return $(this).val((new Date).format("{MM}/{yyyy}"));var a=new Date(parseInt($("body").data("user-signup")));if($(this).MonthPicker("GetSelectedYear")<a.getYear()||$(this).MonthPicker("GetSelectedYear")>(new Date).getYear())return $(this).val((new Date).format("{MM}/{yyyy}"));f!=null&&f.abort(),$("#graficaMensual2 .graph").highcharts().showLoading(),f=$.getJSON(getKMS_ajaxUri("OverviewMonthlyData.json"),{date:(new Date).getTime(),_:$("body").data("ajax-cache")}).fail(function(){$("#graficaMensual2 .graph").highcharts().showLoading("Ocurrió un problema durante la descarga, intenta de nuevo")}).done(function(a){$("#graficaMensual2 .graph").highcharts().series[0].setData(a.allData),$("#graficaMensual2 .graph").highcharts().hideLoading()})}),$("#graficaPorHora .graph, #graficaPorDia .graph").each(function(){$(this).highcharts("StockChart",{title:{text:null},chart:{type:"areaspline",panning:!0,zoomType:"x"},credits:{enabled:!1},legend:{enabled:!1},navigator:{enabled:!1},rangeSelector:{enabled:!1},tooltip:{valueDecimals:2,valueSuffix:" "+$("body").data("distance-unit")},xAxis:{minRange:108e5},yAxis:{aligh:"left",labels:{format:"{value} "+$("body").data("distance-unit")},min:0},series:[{data:[],dataGrouping:{approximation:"sum",units:[["hour",[1]],["day",[1]],["month",[1]]]},color:"#00C6DD",lineWidth:3,marker:{enabled:!1,radius:5,lineWidth:2,lineColor:"#FFFFFF"},name:"Distancia",pointPadding:0,groupPadding:0}]}),$(this).highcharts().showLoading()})})