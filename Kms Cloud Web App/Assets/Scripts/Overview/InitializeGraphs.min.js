$(function(){$.getJSON(getKMS_ajaxUri("OverviewDailyData.json"),{c:$("body").data("ajax-cache")}).fail(function(){console.log("[!] - Error de descarga de datos (OverviewHourlyData.json)")}).done(function(a){$("#graficaDiaria .graph").highcharts().series[0].setData(a.allData),$("#graficaDiaria .graph").highcharts().hideLoading(),doKMS_redimSidebar()}),$.getJSON(getKMS_ajaxUri("OverviewMonthlyData.json"),{c:$("body").data("ajax-cache")}).fail(function(){console.log("[!] - Error de descarga de datos (OverviewHourlyData.json)")}).done(function(a){$("#graficaMensual .graph").highcharts().series[0].setData(a.allData),$("#graficaMensual .graph").highcharts().hideLoading(),doKMS_redimSidebar()}),$.getJSON(getKMS_ajaxUri("OverviewMonthlyComparisonData.json"),{c:$("body").data("ajax-cache")}).fail(function(){console.log("[!] - Error de descarga de datos (OverviewMonthlyData.json)")}).done(function(a){var b=[],c=[];$.each(a.allData,function(a,d){b.push(d.month),c.push(Math.floor(d.distance))}),(new Chart(document.getElementById("chartMensual").getContext("2d"))).Bar({labels:b,datasets:[{fillColor:"rgba(0,197,219,1)",strokeColor:"rgba(220,220,220,1)",data:c}]},{scaleLabel:"<%=value%> "+$("body").data("distance-unit")}),doKMS_redimSidebar()}),$.getJSON(getKMS_ajaxUri("OverviewYearlyData.json"),{c:$("body").data("ajax-cache")}).fail(function(){console.log("[!] - Error de descarga de datos (OverviewYearlyData.json)")}).done(function(a){var b=0,c={running:$("#datos .running").css("border-bottom-color"),walking:$("#datos .walking").css("border-bottom-color"),sleep:$("#datos .sleep").css("border-bottom-color")},d={running:0,walking:0,sleep:0},e=[];$.each(a.allData,function(a,c){b+=c.steps});if(b<1)return $("#datos .running").text("0%"),$("#datos .walking").text("0%"),$("#datos .sleep").text("100%"),(new Chart(document.getElementById("chartActividad").getContext("2d"))).Doughnut([{value:100,color:c.sleep}]);var f=0;$.each(a.allData,function(a,c){d[c.activity]=Math.floor(c.steps/b*100),f+=d[c.activity]}),f<100&&(d.sleep+=100-f),$.each(d,function(a,b){e.push({value:b,color:c[a]}),$("#datos ."+a).text(b.toFixed()+"%")}),(new Chart(document.getElementById("chartActividad").getContext("2d"))).Doughnut(e),doKMS_redimSidebar()})})