;function doKMS_populateGraph(){$(function(){$.getJSON(getKMS_ajaxUri("Overview.json")).fail(function(){console.log("[!] - Error de descarga de datos")}).done(function(a){var b=[],c=[],d=[];$.each(a.daily,function(a,e){b.push(e.hour),c.push(e.distance),d.push(e.steps)}),(new Chart(document.getElementById("chartDiario").getContext("2d"))).Line({labels:b,datasets:[{fillColor:"rgba(220,220,220,0)",strokeColor:"rgba(0, 197, 219, 1)",pointColor:"rgba(0, 197, 219, 1)",pointStrokeColor:"#fff",data:c}]},{scaleLabel:"<%=value%> "+$("body").data("distance-unit")}),b=[],c=[],d=[],$.each(a.monthly,function(a,e){b.push(e.month),c.push(e.totalDistance),d.push(e.totalSteps)}),(new Chart(document.getElementById("chartMensual").getContext("2d"))).Bar({labels:b,datasets:[{fillColor:"rgba(0,197,219,1)",strokeColor:"rgba(220,220,220,1)",data:c}]},{scaleLabel:"<%=value%> "+$("body").data("distance-unit")});var e=3,f={running:$("#datos .walking").css("border-bottom-color"),walking:$("#datos .walking").css("border-bottom-color"),sleep:$("#datos .sleep").css("border-bottom-color")},g={running:0,walking:0,sleep:0},h=[];$.each(a.activity,function(a,b){b.activity!="sleep"&&(dataTotal+=b.totalDistance)}),$.each(a.activity,function(a,b){g[b.activity]=(b.totalDistance+1)/e*100}),$.each(g,function(a,b){h.push({value:b,color:f[a]}),$("#datos ."+a).text(b.toFixed()+"%")}),(new Chart(document.getElementById("chartActividad").getContext("2d"))).Doughnut(h)})})}
